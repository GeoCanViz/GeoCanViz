(function(){define(["jquery","knockout","jqueryui","gcviz-i18n","gcviz-gisgraphic"],function(e,b,d,c,f){var a;a=function(i,g){var h=function(l,p){var q=this,k=locationPath+"/dist/images/annoDraw.png",m=locationPath+"/dist/images/annoText.png",s=locationPath+"/dist/images/annoErase.png",t=locationPath+"/dist/images/annoMeasure.png",r=locationPath+"/dist/images/annoImport.png",o=locationPath+"/dist/images/annoExport.png",j=mapArray[p][0],n=new f.initialize(j);q.imgDraw=b.observable(k);q.imgText=b.observable(m);q.imgErase=b.observable(s);q.imgMeasure=b.observable(t);q.imgImport=b.observable(r);q.imgExport=b.observable(o);e("#anno-inputbox").dialog({autoOpen:false,modal:true,resizable:false,draggable:false,show:"fade",hide:"fade",closeOnEscape:true,title:"Annotation",width:400,close:function(){e("#value").val("")},buttons:[{text:"Ok",click:function(){var u=e("#value").val();if(u!==""){e("#"+p+"_0_container").addClass("gcviz-text-cursor");n.drawText(u)}e(this).dialog("close")}},{text:"Cancel",click:function(){e(this).dialog("close")}}]});q.errorHandler=function(u){console.log("error toolbar annotation view model: ",u)};q.init=function(){return{controlsDescendantBindings:true}};q.drawClick=function(){e("#"+p+"_0_container").addClass("gcviz-draw-cursor");n.drawLine()};q.textClick=function(){e("#anno-inputbox").dialog("open")};q.eraseClick=function(){n.erase()};q.measureClick=function(){};q.importClick=function(){};q.exportClick=function(){};q.init()};b.applyBindings(new h(i,g),i[0])};return{initialize:a}})}).call(this);