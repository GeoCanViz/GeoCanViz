(function(){define(["jquery","dojo/dom","dojo/dom-style","knockout","gcviz-gismap","gcviz-gisgeo"],function(f,g,d,c,e,b){var a;a=function(h){var j=[];var i=function(m){var k=this,l=m.mapframe,n;k.errorHandler=function(o){console.log("error map view model: ",o)};k.init=function(){var o=l.map.length,p=m.mapframe.id;while(o--){var t=l.map[o],r=t.layers.length,s=t.layers,u=f("#"+p+"_"+o);n=e.createMap(p+"_"+o,t);s=s.reverse();while(r--){var q=s[r];e.addLayer(n,q.type,q.url)}u.on("mouseenter mouseleave focusin focusout",function(x){var v=x.type,w=f(this);if(v==="mouseenter"||v==="focusin"){this.focus()}else{if(v==="mouseleave"||v==="focusout"){this.blur()}}});u.addClass("gcviz-map");f("#"+p+"_"+o+"_container").css("cursor","");n.enableScrollWheelZoom();j.push(n)}return{controlsDescendantBindings:true}};k.init()};c.applyBindings(new i(h),h[0]);return j};return{initialize:a}})}).call(this);