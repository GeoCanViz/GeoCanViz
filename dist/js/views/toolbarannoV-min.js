(function(){define(["gcviz-vm-tbanno","dijit/TitlePane","gcviz-i18n"],function(c,b,d){var a;a=function(h){var g,f=h.toolbaranno,e=h.mapframe.id,j,i="";j=new b({id:"tbanno"+e,title:"Annotation",content:'<div class="toolbaranno-content toolbar-content"></div>',open:false});h.find(".toolbars-holder").append(j.domNode);j.startup();g=h.find(".toolbaranno-content");if(f.importexport.enable){i+='<button class="toolbaranno-button" data-bind="click: importClick"><img class="img-button" data-bind="attr:{src: imgImport}"></img></button>';i+='<button class="toolbaranno-button" data-bind="click: exportClick"><img class="img-button" data-bind="attr:{src: imgExport}"></img></button>'}if(f.measure.enable){i+='<button class="toolbaranno-button" data-bind="click: measureClick"><img class="img-button" data-bind="attr:{src: imgMeasure}"></img></button>'}i+='<button class="toolbaranno-button" data-bind="click: eraseClick"><img class="img-button" data-bind="attr:{src: imgErase}"></img></button>';if(f.drawtext.enable){i+='<button class="toolbaranno-button" data-bind="click: textClick"><img class="img-button" data-bind="attr:{src: imgText}"></img></button>';if($("#anno-inputbox").length===0){$("body").prepend('<div id="anno-inputbox"><form><fieldset><label for="value">'+d.getDict("%toolbaranno-inputbox-label")+'</label><input id="value" class="text ui-widget-content ui-corner-all"/></fieldset></form></div>')}}if(f.drawline.enable){i+='<button class="toolbaranno-button" data-bind="click: drawClick"><img class="img-button" data-bind="attr:{src: imgDraw}"></img></button>'}g.append(i);c.initialize(h.find(".toolbaranno-content"),e)};return{initialize:a}})}).call(this);